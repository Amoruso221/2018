<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Amoruso - Lista de personas</title>
	<link rel="stylesheet" href="">
</head>
<body>
	<div id="app">
		<!-- Ingreso de persona -->
		<h2>Agregar persona</h2>
		<section>
			<input type="text" v-model="persona.nombre" placeholder="Nombre">
			<input type="number" v-model="persona.edad" placeholder="Edad">

			<select v-model="persona.sexo">
  				<option value="femenino">Femenino</option>
  				<option value="masculino" selected>Masculino</option>
			</select>
	
			<button @click="agregar()">Ingresar</button>
		</section>
		<!-- Fin de persona -->

		<!-- personas ingresadas -->
		<section>
			<h2>Lista de personas - Cantidad actual: {{total}} </h2>
			<ul>
				<li v-for="(persona, index) in personas" :key="index">
					<p>Nombre: {{persona.nombre}} - Edad: {{persona.edad}} - Sexo: {{persona.sexo}}</p>
				</li>
			</ul>
		</section>
		<!-- fin personas ingresadas -->

		<!-- aplicar filtro -->
		<section>
			<h2>Lista aplicando filtro</h2>
			<select v-model="selected">
					<option disabled value="">seleccione genero</option>
	  				<option value="femenino">Femenino</option>
	  				<option value="masculino">Masculino</option>
			</select>
			<button @click="filtrar()">Filtrar</button>
		</section>
		<!-- fin aplicar filtro -->

		<!-- lista filtrada -->
		<section>
			<ul>
				<li v-for="(persona, index) in listado" :key="index">
					<p>Nombre: {{persona.nombre}} - Edad: {{persona.edad}} - Sexo: {{persona.sexo}}</p>
				</li>
			</ul>
		</section>
		
	</div>
	
	<!-- vue -->
	<script type="text/javascript" src="js/vue.js"></script>

	<!-- script -->
	<script>
		new Vue({
			el:"#app",
			data: {
				idInicial: 0,
				personas: [],
				listado: [],
				selected: "masculino",
				persona: {
					nombre: "",
					edad: "",
					sexo: ""
				}
			},
			computed: {
				total(){
					return this.personas.length;
				}
			},
			methods: {
				agregar(){
					if(this.persona.nombre != null &&
							this.persona.nombre.length > 0 &&
						 	this.persona.edad != null &&
						 	this.persona.edad.length > 0)
						 	{ 
								this.personas.push({
									id: this.idInicial++,
									nombre: this.persona.nombre,
									edad: this.persona.edad,
									sexo: this.persona.sexo
								});

								this.persona.nombre= "";
								this.persona.edad= "";
							} else { alert('ningun campo debe estar vacio');}
				},

				filtrar(){
					this.listado = this.personas.filter(persona => persona.sexo === this.selected)
				}
			}
		});
	</script>
</body>
</html>